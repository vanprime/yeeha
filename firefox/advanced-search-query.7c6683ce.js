var e,t;"function"==typeof(e=globalThis.define)&&(t=e,e=null),function(t,r,n,a,o){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l="function"==typeof i[a]&&i[a],s=l.cache||{},u="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(e,r){if(!s[e]){if(!t[e]){var n="function"==typeof i[a]&&i[a];if(!r&&n)return n(e,!0);if(l)return l(e,!0);if(u&&"string"==typeof e)return u(e);var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}d.resolve=function(r){var n=t[e][1][r];return null!=n?n:r},d.cache={};var f=s[e]=new c.Module(e);t[e][0].call(f.exports,d,f,f.exports,this)}return s[e].exports;function d(e){var t=d.resolve(e);return!1===t?{}:c(t)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=t,c.cache=s,c.parent=l,c.register=function(e,r){t[e]=[function(e,t){t.exports=r},{}]},Object.defineProperty(c,"root",{get:function(){return i[a]}}),i[a]=c;for(var f=0;f<r.length;f++)c(r[f]);if(n){var d=c(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=d:"function"==typeof e&&e.amd?e(function(){return d}):o&&(this[o]=d)}}({"1dd5S":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"config",()=>s);var a=e("~lib/extension-runtime");let o="#advanced-search",i=()=>{let e=document.querySelector(o);if(e)return e;let t=document.querySelector(o);if(t instanceof HTMLElement){let e=t.querySelector("textarea, input");if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)return e}let r=document.querySelector('[data-testid="jql-editor-input"]');return r||null},l=()=>{let e=i();if(!e)return{success:!1,query:"",error:"Advanced search field not found"};let t=e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement,r=t?e.value:"",n=e.getAttribute("value")||"",a=e.textContent||"";return{success:!0,query:r||n||a,source:"advanced-search"}},s={matches:["https://*/issues*","https://*/jira/*","http://*/issues*","http://*/jira/*"],run_at:"document_idle"},u=(0,a.getExtensionRuntimeApi)();u?.runtime?.onMessage?.addListener&&u.runtime.onMessage.addListener((e,t,r)=>{if(!e||"jiraExtensions:getAdvancedSearchJql"!==e.type)return!1;try{let e=l();r(e)}catch(t){let e=t instanceof Error?t.message:"Failed to read advanced search";r({success:!1,query:"",error:e})}return!1})},{"~lib/extension-runtime":"4lLoG","@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}],"4lLoG":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getExtensionRuntimeApi",()=>d),n.export(r,"isFirefoxRuntime",()=>p),n.export(r,"getExtensionManifestVersion",()=>b),n.export(r,"openExternalTab",()=>y),n.export(r,"queryTabs",()=>h),n.export(r,"getTab",()=>m),n.export(r,"sendTabMessage",()=>g),n.export(r,"updateTab",()=>w),n.export(r,"isChromeSidePanelAvailable",()=>x),n.export(r,"isFirefoxSidebarAvailable",()=>v),n.export(r,"getExtensionUrl",()=>E),n.export(r,"configureChromeSidePanel",()=>P),n.export(r,"configureChromeSidePanelBehavior",()=>A),n.export(r,"openFirefoxSidebar",()=>T),n.export(r,"enableFirefoxSidebarActionBehavior",()=>q);let a=!1,o=()=>"undefined"==typeof chrome?null:chrome,i=()=>{let e=globalThis.browser;return e??null},l=e=>!!e&&"function"==typeof e.then,s=(e,t)=>e instanceof Error&&e.message.trim().length>0?e:Error(t),u=()=>{let e=o()?.runtime?.lastError;return e?"string"==typeof e.message&&e.message.trim().length>0?e.message:"Browser runtime request failed.":null},c=e=>null!==e&&e===i(),f=async({runtimeApi:e,callWithPromise:t,callWithCallback:r,fallbackError:n})=>{if(!e)throw Error(n);if(c(e))try{return await t()}catch(e){throw s(e,n)}return await new Promise((e,t)=>{try{r(r=>{let n=u();if(n){t(Error(n));return}e(r)},e=>t(s(e,n)))}catch(e){t(s(e,n))}})},d=()=>i()??o(),p=()=>{let e=d();return!!e?.sidebarAction?.open},b=()=>{let e=d();if(!e?.runtime?.getManifest)return null;try{let t=e.runtime.getManifest(),r="string"==typeof t?.version?t.version.trim():"";return r.length>0?r:null}catch(e){return console.warn("Unable to resolve extension manifest version.",e),null}},y=async e=>{let t=d();if(t?.tabs?.create)try{return await f({runtimeApi:t,fallbackError:"Failed to create browser tab.",callWithPromise:async()=>{let r=t.tabs.create({url:e});return l(r)?await r:r},callWithCallback:(r,n)=>{t.tabs.create({url:e},e=>{if(u()){n(Error(u()));return}r(e)})}}),!0}catch(e){console.warn("openExternalTab: tabs.create failed",e)}return"undefined"!=typeof window&&(window.open(e,"_blank","noopener,noreferrer"),!0)},h=async(e={active:!0,lastFocusedWindow:!0})=>{let t=d();if(!t?.tabs?.query)return[];try{return await f({runtimeApi:t,fallbackError:"Failed to query browser tabs.",callWithPromise:async()=>{let r=t.tabs.query(e);return l(r)?await r:Array.isArray(r)?r:[]},callWithCallback:r=>{t.tabs.query(e,e=>{r(Array.isArray(e)?e:[])})}})}catch(e){return console.warn("queryTabs: failed",e),[]}},m=async e=>{let t=d();if(!t?.tabs?.get||"number"!=typeof e)return null;try{return await f({runtimeApi:t,fallbackError:"Failed to resolve tab by id.",callWithPromise:async()=>{let r=t.tabs.get(e);return l(r)?await r:r??null},callWithCallback:r=>{t.tabs.get(e,e=>{r(e??null)})}})}catch(e){return console.warn("getTab: failed",e),null}},g=async(e,t)=>{let r=d();if(!r?.tabs?.sendMessage||"number"!=typeof e)throw Error("Browser tabs messaging API is unavailable.");return await f({runtimeApi:r,fallbackError:"Failed to send tab message.",callWithPromise:async()=>{let n=r.tabs.sendMessage(e,t);return l(n)?await n:n},callWithCallback:n=>{r.tabs.sendMessage(e,t,e=>{n(e)})}})},w=async(e,t)=>{let r=d();return r?.tabs?.update&&"number"==typeof e?await f({runtimeApi:r,fallbackError:"Failed to update browser tab.",callWithPromise:async()=>{let n=r.tabs.update(e,t);return l(n)?await n:n??null},callWithCallback:n=>{r.tabs.update(e,t,e=>{n(e??null)})}}):null},x=()=>!!o()?.sidePanel?.setOptions,v=()=>!!d()?.sidebarAction?.open,E=e=>{let t=d();if(!t?.runtime?.getURL)return null;try{return t.runtime.getURL(e)}catch(e){return console.warn("getExtensionUrl: failed",e),null}},P=async e=>{let t=o();if(!t?.sidePanel?.setOptions)return!1;try{let r={path:"sidepanel.html",enabled:!0};return"number"==typeof e&&(r.windowId=e),await t.sidePanel.setOptions(r),!0}catch(e){return console.warn("configureChromeSidePanel: failed",e),!1}},A=async()=>{let e=o();if(!e?.sidePanel?.setPanelBehavior)return!1;try{return await e.sidePanel.setPanelBehavior({openPanelOnActionClick:!0}),!0}catch(e){return console.warn("configureChromeSidePanelBehavior: failed",e),!1}},T=async()=>{let e=d();if(!e?.sidebarAction?.open)return!1;try{return await e.sidebarAction.open(),!0}catch(e){return console.warn("openFirefoxSidebar: failed",e),!1}},q=async()=>{let e=d();if(!e?.action)return!1;let t="function"==typeof e.sidebarAction?.open,r="function"==typeof e.action.setPopup,n="function"==typeof e.action.onClicked?.addListener;if(!t||!r||!n)return!1;try{await f({runtimeApi:e,fallbackError:"Failed to configure Firefox action popup.",callWithPromise:async()=>{let t=e.action.setPopup({popup:""});l(t)&&await t},callWithCallback:t=>{e.action.setPopup({popup:""},()=>t())}})}catch(e){return console.warn("enableFirefoxSidebarActionBehavior: failed to clear popup",e),!1}return a||(e.action.onClicked.addListener(()=>{T()}),a=!0),!0}},{"@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}],cHUbl:[function(e,t,r){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach(function(r){"default"===r||"__esModule"===r||t.hasOwnProperty(r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}]},["1dd5S"],"1dd5S","parcelRequire4c9f"),globalThis.define=t;