var e,r;"function"==typeof(e=globalThis.define)&&(r=e,e=null),function(r,t,n,a,i){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l="function"==typeof o[a]&&o[a],s=l.cache||{},u="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(e,t){if(!s[e]){if(!r[e]){var n="function"==typeof o[a]&&o[a];if(!t&&n)return n(e,!0);if(l)return l(e,!0);if(u&&"string"==typeof e)return u(e);var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}d.resolve=function(t){var n=r[e][1][t];return null!=n?n:t},d.cache={};var f=s[e]=new c.Module(e);r[e][0].call(f.exports,d,f,f.exports,this)}return s[e].exports;function d(e){var r=d.resolve(e);return!1===r?{}:c(r)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=r,c.cache=s,c.parent=l,c.register=function(e,t){r[e]=[function(e,r){r.exports=t},{}]},Object.defineProperty(c,"root",{get:function(){return o[a]}}),o[a]=c;for(var f=0;f<t.length;f++)c(t[f]);if(n){var d=c(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=d:"function"==typeof e&&e.amd?e(function(){return d}):i&&(this[i]=d)}}({frrV4:[function(e,r,t){e("../../../src/background")},{"../../../src/background":"bkg1o"}],bkg1o:[function(e,r,t){var n=e("~lib/extension-runtime");let a=async e=>{if((0,n.isChromeSidePanelAvailable)()){await (0,n.configureChromeSidePanel)(e);return}if((0,n.isFirefoxSidebarAvailable)()){await (0,n.enableFirefoxSidebarActionBehavior)();return}let r=(0,n.getExtensionUrl)("sidepanel.html");r&&await (0,n.openExternalTab)(r)},i=async()=>{if((0,n.isChromeSidePanelAvailable)()){await (0,n.configureChromeSidePanelBehavior)();return}(0,n.isFirefoxSidebarAvailable)()&&await (0,n.enableFirefoxSidebarActionBehavior)()},o=(0,n.getExtensionRuntimeApi)();o?.runtime?.onInstalled?.addListener(async()=>{await a(),await i()}),o?.runtime?.onStartup?.addListener(async()=>{await a()}),o?.windows?.onCreated?.addListener(e=>{a(e.id).catch(e=>{console.warn("Unable to initialize extension panel for new window",e)})})},{"~lib/extension-runtime":"4lLoG"}],"4lLoG":[function(e,r,t){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(t),n.export(t,"getExtensionRuntimeApi",()=>d),n.export(t,"isFirefoxRuntime",()=>p),n.export(t,"getExtensionManifestVersion",()=>b),n.export(t,"openExternalTab",()=>h),n.export(t,"queryTabs",()=>y),n.export(t,"getTab",()=>w),n.export(t,"sendTabMessage",()=>m),n.export(t,"updateTab",()=>g),n.export(t,"isChromeSidePanelAvailable",()=>x),n.export(t,"isFirefoxSidebarAvailable",()=>v),n.export(t,"getExtensionUrl",()=>P),n.export(t,"configureChromeSidePanel",()=>E),n.export(t,"configureChromeSidePanelBehavior",()=>A),n.export(t,"openFirefoxSidebar",()=>k),n.export(t,"enableFirefoxSidebarActionBehavior",()=>F);let a=!1,i=()=>"undefined"==typeof chrome?null:chrome,o=()=>{let e=globalThis.browser;return e??null},l=e=>!!e&&"function"==typeof e.then,s=(e,r)=>e instanceof Error&&e.message.trim().length>0?e:Error(r),u=()=>{let e=i()?.runtime?.lastError;return e?"string"==typeof e.message&&e.message.trim().length>0?e.message:"Browser runtime request failed.":null},c=e=>null!==e&&e===o(),f=async({runtimeApi:e,callWithPromise:r,callWithCallback:t,fallbackError:n})=>{if(!e)throw Error(n);if(c(e))try{return await r()}catch(e){throw s(e,n)}return await new Promise((e,r)=>{try{t(t=>{let n=u();if(n){r(Error(n));return}e(t)},e=>r(s(e,n)))}catch(e){r(s(e,n))}})},d=()=>o()??i(),p=()=>{let e=d();return!!e?.sidebarAction?.open},b=()=>{let e=d();if(!e?.runtime?.getManifest)return null;try{let r=e.runtime.getManifest(),t="string"==typeof r?.version?r.version.trim():"";return t.length>0?t:null}catch(e){return console.warn("Unable to resolve extension manifest version.",e),null}},h=async e=>{let r=d();if(r?.tabs?.create)try{return await f({runtimeApi:r,fallbackError:"Failed to create browser tab.",callWithPromise:async()=>{let t=r.tabs.create({url:e});return l(t)?await t:t},callWithCallback:(t,n)=>{r.tabs.create({url:e},e=>{if(u()){n(Error(u()));return}t(e)})}}),!0}catch(e){console.warn("openExternalTab: tabs.create failed",e)}return"undefined"!=typeof window&&(window.open(e,"_blank","noopener,noreferrer"),!0)},y=async(e={active:!0,lastFocusedWindow:!0})=>{let r=d();if(!r?.tabs?.query)return[];try{return await f({runtimeApi:r,fallbackError:"Failed to query browser tabs.",callWithPromise:async()=>{let t=r.tabs.query(e);return l(t)?await t:Array.isArray(t)?t:[]},callWithCallback:t=>{r.tabs.query(e,e=>{t(Array.isArray(e)?e:[])})}})}catch(e){return console.warn("queryTabs: failed",e),[]}},w=async e=>{let r=d();if(!r?.tabs?.get||"number"!=typeof e)return null;try{return await f({runtimeApi:r,fallbackError:"Failed to resolve tab by id.",callWithPromise:async()=>{let t=r.tabs.get(e);return l(t)?await t:t??null},callWithCallback:t=>{r.tabs.get(e,e=>{t(e??null)})}})}catch(e){return console.warn("getTab: failed",e),null}},m=async(e,r)=>{let t=d();if(!t?.tabs?.sendMessage||"number"!=typeof e)throw Error("Browser tabs messaging API is unavailable.");return await f({runtimeApi:t,fallbackError:"Failed to send tab message.",callWithPromise:async()=>{let n=t.tabs.sendMessage(e,r);return l(n)?await n:n},callWithCallback:n=>{t.tabs.sendMessage(e,r,e=>{n(e)})}})},g=async(e,r)=>{let t=d();return t?.tabs?.update&&"number"==typeof e?await f({runtimeApi:t,fallbackError:"Failed to update browser tab.",callWithPromise:async()=>{let n=t.tabs.update(e,r);return l(n)?await n:n??null},callWithCallback:n=>{t.tabs.update(e,r,e=>{n(e??null)})}}):null},x=()=>!!i()?.sidePanel?.setOptions,v=()=>!!d()?.sidebarAction?.open,P=e=>{let r=d();if(!r?.runtime?.getURL)return null;try{return r.runtime.getURL(e)}catch(e){return console.warn("getExtensionUrl: failed",e),null}},E=async e=>{let r=i();if(!r?.sidePanel?.setOptions)return!1;try{let t={path:"sidepanel.html",enabled:!0};return"number"==typeof e&&(t.windowId=e),await r.sidePanel.setOptions(t),!0}catch(e){return console.warn("configureChromeSidePanel: failed",e),!1}},A=async()=>{let e=i();if(!e?.sidePanel?.setPanelBehavior)return!1;try{return await e.sidePanel.setPanelBehavior({openPanelOnActionClick:!0}),!0}catch(e){return console.warn("configureChromeSidePanelBehavior: failed",e),!1}},k=async()=>{let e=d();if(!e?.sidebarAction?.open)return!1;try{return await e.sidebarAction.open(),!0}catch(e){return console.warn("openFirefoxSidebar: failed",e),!1}},F=async()=>{let e=d();if(!e?.action)return!1;let r="function"==typeof e.sidebarAction?.open,t="function"==typeof e.action.setPopup,n="function"==typeof e.action.onClicked?.addListener;if(!r||!t||!n)return!1;try{await f({runtimeApi:e,fallbackError:"Failed to configure Firefox action popup.",callWithPromise:async()=>{let r=e.action.setPopup({popup:""});l(r)&&await r},callWithCallback:r=>{e.action.setPopup({popup:""},()=>r())}})}catch(e){return console.warn("enableFirefoxSidebarActionBehavior: failed to clear popup",e),!1}return a||(e.action.onClicked.addListener(()=>{k()}),a=!0),!0}},{"@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}],cHUbl:[function(e,r,t){t.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},t.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.exportAll=function(e,r){return Object.keys(e).forEach(function(t){"default"===t||"__esModule"===t||r.hasOwnProperty(t)||Object.defineProperty(r,t,{enumerable:!0,get:function(){return e[t]}})}),r},t.export=function(e,r,t){Object.defineProperty(e,r,{enumerable:!0,get:t})}},{}]},["frrV4"],"frrV4","parcelRequire4c9f"),globalThis.define=r;